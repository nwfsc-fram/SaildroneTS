<html>
<title>Saildrone Data Download</title>
<head>
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, post-check=0, pre-check=0" />
    <!-- <meta http-equiv="Refresh" content="30"> -->
    <script src="easytimer.min.js"></script>
    <script src="saildrone.js"></script>
    <script type="module" >
        import { latestUpdate } from './saildrone/lastUpdatedDateTime.js';
        lastUpdate = new Date(latestUpdate());
    </script>
</head>
<style>
table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 60%;
}

td, th {
  border: 1px solid #f5f5f5;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #f5f5f5;
}
h2, p, span {
  font-family: arial, sans-serif;
}
h2 { display: inline; }
</style>

<script>
// Global Variables
var lastUpdate, nextUpdate;

</script>
<body onLoad="populateData(); refreshPage()">
    
    <h2>Saildrone Data Download</h2>
    <p id="refresh">Page will refresh in <span id="counter"></span> seconds</p>
    <p>Data Last Updated: <span id="lastUpdateDateTime"></span></p>
    <p>Data is downloaded every 30 minutes.  Next update will happen at <span id="nextUpdate"></span>.  Current Time: <span id="clock"></span></p>
    <!-- <p>Time until next update: <span id="remainingTime"></span></p> -->
    <p>Download All Data: <a href="./saildrone/all_data.tar">Link</a></p>    
    <table id="dataTable">
        <thead>
            <tr>
                <th>Mission</th>
                <th>Dataset</th>
                <th>Last Update Date/Time</th>
                <th>Download</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</body>
</html>